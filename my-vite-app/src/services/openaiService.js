const insuranceResponses = {
  "policy types": {
    response: "We offer several types of insurance policies:\n\n1. Health Insurance (₹500/month)\n   • Coverage: Hospitalization, pre/post care\n   • Benefits: Cashless treatment, health check-ups\n   • Network: 5000+ hospitals\n   • Sum Insured: Up to ₹50 lakhs\n   • Family Floater Option: Available\n\n2. Life Insurance (₹1000/month)\n   • Coverage: Financial security for family\n   • Benefits: Tax benefits, critical illness riders\n   • Term: 10-30 years\n   • Sum Assured: Up to ₹1 crore\n   • Premium Payment: Monthly/Yearly\n\n3. Critical Illness (₹800/month)\n   • Coverage: 32 major illnesses\n   • Benefits: Lump sum payout\n   • No hospitalization required\n   • Coverage Amount: Up to ₹25 lakhs\n   • Waiting Period: 90 days"
  },
  "claim process": {
    response: "Here's how to file a claim:\n\n1. Cashless Claim Process:\n   • Choose network hospital\n   • Show insurance card\n   • Get pre-authorization\n   • Receive treatment\n   • Hospital submits bills\n   • Claim settled within 2-4 hours\n\n2. Reimbursement Process:\n   • Pay hospital bills\n   • Collect documents\n   • Submit claim form\n   • Upload documents\n   • Receive reimbursement\n   • Settlement within 7-10 working days\n\nEmergency Claims:\n• 24/7 support available\n• Fast-track processing\n• Dedicated claim manager"
  },
  "documents": {
    response: "Required documents for claims:\n\n1. Health Insurance:\n   • Policy copy\n   • ID proof\n   • Hospital bills\n   • Discharge summary\n   • Doctor's prescription\n   • Diagnostic reports\n   • KYC documents\n   • Bank details\n\n2. Life Insurance:\n   • Policy copy\n   • Death certificate\n   • Nominee ID proof\n   • Hospital records (if applicable)\n   • KYC documents\n   • Bank details\n\n3. Critical Illness:\n   • Policy copy\n   • Diagnosis reports\n   • Doctor's certificate\n   • Treatment records\n   • KYC documents\n   • Bank details\n\nNote: All documents must be original and self-attested"
  },
  "network hospitals": {
    response: "Our network hospital information:\n\n• Total Hospitals: 5000+ across India\n• Coverage: All major cities and towns\n• Emergency Support: 24/7\n• Specialized Centers: 1000+\n• International Network: Available\n\nProcess for cashless treatment:\n1. Check network hospital list\n2. Show insurance card\n3. Get pre-authorization\n4. Receive cashless treatment\n\nTo find nearest network hospital:\n• Visit our website\n• Use mobile app\n• Call toll-free number\n• Visit branch office\n• SMS 'HOSP' to 56767"
  },
  "renewal": {
    response: "Policy renewal process:\n\n1. Receive renewal notice\n2. Pay premium before due date\n3. Get renewed policy\n4. No medical check-up required\n\nImportant Notes:\n• 15 days grace period\n• Option to switch insurers\n• Maintain continuous coverage\n• Premium may increase based on claims history\n• Renewal discounts available for no-claim years\n• Portability option available\n• Online renewal facility\n• Auto-debit option available"
  },
  "premium": {
    response: "Premium information:\n\n1. Health Insurance:\n   • Starting from ₹500/month\n   • Based on age and coverage\n   • Family discounts available\n   • Premium increases with age\n   • No-claim bonus up to 50%\n   • Corporate discounts available\n   • Online payment discounts\n\n2. Life Insurance:\n   • Starting from ₹1000/month\n   • Based on age and term\n   • Additional riders available\n   • Premium remains fixed for term\n   • Tax benefits under Section 80C\n   • Premium waiver benefit\n   • Loyalty bonus available\n\n3. Critical Illness:\n   • Starting from ₹800/month\n   • Based on age and coverage\n   • No-claim bonus applicable\n   • Premium increases with age\n   • Coverage up to ₹50 lakhs\n   • Family discount available\n   • Multi-policy discount"
  },
  "coverage": {
    response: "Insurance coverage details:\n\n1. Health Insurance:\n   • Hospitalization expenses\n   • Pre and post hospitalization\n   • Day care procedures\n   • Ambulance charges\n   • Domiciliary treatment\n   • Organ donor expenses\n   • Maternity benefits\n   • Newborn baby cover\n   • AYUSH treatment\n   • Modern treatment methods\n\n2. Life Insurance:\n   • Death benefit\n   • Terminal illness benefit\n   • Accidental death benefit\n   • Disability benefit\n   • Critical illness riders\n   • Income benefit option\n   • Education benefit\n   • Marriage benefit\n\n3. Critical Illness:\n   • Cancer\n   • Heart attack\n   • Stroke\n   • Kidney failure\n   • Major organ transplant\n   • Multiple sclerosis\n   • Paralysis\n   • Coma\n   • Blindness\n   • Deafness"
  },
  "exclusions": {
    response: "Policy exclusions:\n\n1. Health Insurance:\n   • Pre-existing conditions (waiting period)\n   • Cosmetic surgery\n   • Dental treatment\n   • Alternative treatments\n   • War/terrorism\n   • Self-inflicted injuries\n   • HIV/AIDS\n   • Congenital diseases\n   • Experimental treatments\n   • Non-prescription drugs\n\n2. Life Insurance:\n   • Suicide (first year)\n   • War/terrorism\n   • Criminal activities\n   • Drug/alcohol abuse\n   • Hazardous sports\n   • Aviation (except as passenger)\n   • Nuclear risks\n\n3. Critical Illness:\n   • Pre-existing conditions\n   • HIV/AIDS\n   • Congenital diseases\n   • Self-inflicted injuries\n   • War/terrorism\n   • Drug/alcohol abuse\n   • Experimental treatments"
  },
  "benefits": {
    response: "Policy benefits:\n\n1. Health Insurance:\n   • Cashless hospitalization\n   • No-claim bonus\n   • Restoration benefit\n   • Health check-up\n   • Alternative treatments\n   • Day care procedures\n   • Domiciliary treatment\n   • Organ donor cover\n\n2. Life Insurance:\n   • Tax benefits\n   • Loan facility\n   • Premium waiver\n   • Accidental death benefit\n   • Critical illness cover\n   • Income benefit\n   • Education benefit\n\n3. Critical Illness:\n   • Lump sum payout\n   • No hospitalization required\n   • Multiple claims possible\n   • Premium waiver\n   • Tax benefits\n   • Family discount"
  },
  "tax": {
    response: "Tax benefits:\n\n1. Health Insurance:\n   • Section 80D: Up to ₹25,000\n   • Senior citizens: Up to ₹50,000\n   • Preventive health check-up: ₹5,000\n   • Family floater: Additional benefits\n\n2. Life Insurance:\n   • Section 80C: Up to ₹1.5 lakhs\n   • Section 10(10D): Tax-free maturity\n   • Premium paid: Tax deductible\n   • Death benefit: Tax-free\n\n3. Critical Illness:\n   • Section 80D: Applicable\n   • Claim amount: Tax-free\n   • Premium paid: Tax deductible"
  },
  "default": {
    response: "I can help you with information about:\n\n1. Policy Types & Coverage\n2. Claim Processes\n3. Required Documents\n4. Network Hospitals\n5. Renewal Procedures\n6. Premium Information\n7. Coverage Details\n8. Policy Exclusions\n9. Policy Benefits\n10. Tax Benefits\n\nPlease ask about any of these topics for detailed information."
  }
};

const openaiService = {
  async getChatResponse(messages) {
    try {
      // Get the last user message
      const lastUserMessage = messages[messages.length - 1].text.toLowerCase();
      
      // Find matching response
      let response = insuranceResponses.default.response;
      for (const [key, value] of Object.entries(insuranceResponses)) {
        if (lastUserMessage.includes(key)) {
          response = value.response;
          break;
        }
      }

      // Simulate API delay
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      return response;
    } catch (error) {
      console.error('Error generating response:', error);
      return "I can help you with information about:\n\n1. Policy Types\n2. Claim Process\n3. Required Documents\n4. Network Hospitals\n5. Renewal Procedures\n6. Premium Information\n7. Coverage Details\n8. Policy Exclusions\n9. Policy Benefits\n10. Tax Benefits\n\nPlease ask about any of these topics.";
    }
  }
};

export default openaiService; 